/**
 * This code is auto-generated; unless you know what you're doing, do not modify!
 **/

#ifndef <%- cppClassName.toUpperCase() %>_H
#define <%- cppClassName.toUpperCase() %>_H

#include <v8.h>
#include <node.h>
#include <string>

#include "git2.h"

using namespace node;
using namespace v8;

class <%- cppClassName %> : public ObjectWrap {
  public:

    static Persistent<Function> constructor_template;
    static void Initialize (Handle<v8::Object> target);

    <%- cType %> *GetValue();

  private:
    <%- cppClassName %>(<%- cType %> *raw);
    ~<%- cppClassName %>();

    static Handle<Value> New(const Arguments& args);

<%
  for (var i in functions) {
    var functionInfo = functions[i];
    if (functionInfo.ignore) continue;
-%>
    static Handle<Value> <%- functionInfo.cppFunctionName %>(const Arguments& args);
<% if (functionInfo.isAsync) { -%>
    static void <%- functionInfo.cppFunctionName %>Work(uv_work_t* req);
    static void <%- functionInfo.cppFunctionName %>AfterWork(uv_work_t* req);

    struct <%- functionInfo.cppFunctionName %>Baton {
      uv_work_t request;
      const git_error* error;
<% if (functionInfo.isConstructorMethod) { -%>
      <%- cType %> *out;
<% } else if (functionInfo.isPrototypeMethod) { -%>
  <%- cType %> *in;
<% } -%>
<%
  var offset = functionInfo.isPrototypeMethod || functionInfo.isConstructorMethod ? 1 : 0;
  for (var i = 0; i < functionInfo.args.length - offset; i++) {
    var arg = functionInfo.args[i + offset];
-%>
      <%- arg.cType %> <%- arg.name %>;
<% } -%>
      Persistent<Function> callback;
    };
<% } -%>
<% } -%>
    <%- cType %> *raw;
};

#endif
